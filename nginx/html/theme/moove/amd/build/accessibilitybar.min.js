define ("theme_moove/accessibilitybar",["jquery","core/ajax"],function(a,b){window.jQuery=a;var c={FONT_SIZE:"#fontsize_dec, #fontsize_reset, #fontsize_inc",SITE_COLOR:"#sitecolor_color1, #sitecolor_color2, #sitecolor_color3, #sitecolor_color4"},d=null,e=null,f=null,g=null,h=null,i=function(){var b=a("body").attr("class").split(/\s+/);a.each(b,function(a,b){if(b.includes("fontsize-inc-")||b.includes("fontsize-dec-")){var c=b.split("-");d=b;e=c[1];f=c[2]}});this.toggleFontsizeButtons();this.registerEventListeners()};i.prototype.registerEventListeners=function(){a(c.FONT_SIZE).click(function(b){var c=a(b.currentTarget);g=c.data("action");this.fontSize()}.bind(this));a(c.SITE_COLOR).click(function(b){var c=a(b.currentTarget);h=c.data("action");this.siteColor()}.bind(this))};i.prototype.fontSize=function(){var a=b.call([{methodname:"theme_moove_fontsize",args:{action:g}}]);a[0].done(function(){this.reloadFontsizeClass()}.bind(this))};i.prototype.reloadFontsizeClass=function(){if("reset"===g||"increase"===g&&"fontsize-dec-1"===d||"decrease"===g&&"fontsize-inc-1"===d){a("body").removeClass(d);d=null;e=null;f=null;this.toggleFontsizeButtons();return}if("increase"===g){if(null===f){d="fontsize-inc-1";e="inc";f=1}else if("inc"===e&&6>f){a("body").removeClass(d);f++;d="fontsize-inc-"+f}else if("dec"===e){a("body").removeClass(d);f--;d="fontsize-dec-"+f}a("body").addClass(d)}if("decrease"===g){if(null===f){d="fontsize-dec-1";e="dec";f=1}else if("dec"===e&&6>f){a("body").removeClass(d);f++;d="fontsize-dec-"+f}else if("inc"===e){a("body").removeClass(d);f--;d="fontsize-inc-"+f}a("body").addClass(d)}this.toggleFontsizeButtons()};i.prototype.toggleFontsizeButtons=function(){if(null===d){a("#fontsize_reset").addClass("disabled");a("#fontsize_inc").removeClass("disabled");a("#fontsize_dec").removeClass("disabled")}if(null!==d){a("#fontsize_reset").removeClass("disabled")}if("inc"===e){if(6==f){a("#fontsize_inc").addClass("disabled")}if(6>f){a("#fontsize_inc").removeClass("disabled")}}if("dec"===e){if(6==f){a("#fontsize_dec").addClass("disabled")}if(6>f){a("#fontsize_dec").removeClass("disabled")}}};i.prototype.siteColor=function(){var a=b.call([{methodname:"theme_moove_sitecolor",args:{action:h}}]);a[0].done(function(){this.reloadSitecolorClass()}.bind(this))};i.prototype.reloadSitecolorClass=function(){a("body").removeClass(function(a,b){return(b.match(/(^|\s)sitecolor-color-\S+/g)||[]).join(" ")});if("reset"!==h){a("body").addClass(h)}};return{init:function init(){return new i}}});
//# sourceMappingURL=accessibilitybar.min.js.map
