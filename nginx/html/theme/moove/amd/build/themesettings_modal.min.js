define ("theme_moove/themesettings_modal",["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/ajax"],function(a,b,c,d,e,f){var g=!1,h={SAVE_BUTTON:"[data-action=\"save\"]",CANCEL_BUTTON:"[data-action=\"cancel\"]"},i=function(a){d.call(this,a);var b=f.call([{methodname:"theme_moove_getthemesettings",args:{}}]);b[0].done(function(a){document.getElementById("fonttype").value=a.fonttype;if(a.enableaccessibilitytoolbar){document.getElementById("enableaccessibilitytoolbar").checked=!0}})};i.TYPE="theme_moove-themesettings_modal";i.prototype=Object.create(d.prototype);i.prototype.constructor=i;i.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this);this.getModal().on(c.events.activate,h.SAVE_BUTTON,function(){var a=f.call([{methodname:"theme_moove_savethemesettings",args:{formdata:this.getFormData()}}]);a[0].done(function(){document.location.reload(!0)}.bind(this)).fail(function(a){var c=a.message;if(!c){c=a.error}b.addNotification({message:c,type:"error"});this.hide();this.destroy()}.bind(this))}.bind(this));this.getModal().on(c.events.activate,h.CANCEL_BUTTON,function(){this.hide();this.destroy()}.bind(this))};i.prototype.getFormData=function(){return this.getForm().serialize()};i.prototype.getForm=function(){return this.getBody().find("form")};if(!g){e.register(i.TYPE,i,"theme_moove/themesettings_modal");g=!0}return i});
//# sourceMappingURL=themesettings_modal.min.js.map
