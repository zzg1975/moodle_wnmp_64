define ("format_tiles/edit_form_helper",["jquery","core/notification","core/str","core/templates","format_tiles/browser_storage"],function(a,b,c,d,e){"use strict";return{init:function init(f,g,h,i,j,k,l,m){a(document).ready(function(){var n=a("input#id_courseusesubtiles"),o=a("input#id_usesubtilesseczero");if(!n.prop("checked")){o.prop("checked",!1);o.attr("disabled",!0)}n.change(function(){if(!n.prop("checked")){o.prop("checked",!1);o.attr("disabled",!0)}else{a("input#id_courseusebarforheadings").prop("checked",!1);o.attr("disabled",!1)}});a("select#id_courseshowtileprogress").change(function(d){if("0"!==d.currentTarget.value){var e=a("select#id_enablecompletion");if("0"===e.val()){e.val("1");c.get_strings([{key:"completion",component:"completion"},{key:"completionswitchhelp",component:"format_tiles"}]).done(function(a){b.alert(a[0],a[1])})}}});a("select#id_enablecompletion").change(function(b){if("0"===b.currentTarget.value){a("select#id_courseshowtileprogress").val("0")}});var p=a("select#id_basecolour");d.render("format_tiles/colour_picker",{colours:p.find("option").map(function(b,c){var d=a(c),e=d.attr("value");return{colour:e,colourname:d.text(),selected:e===p.val(),id:e.replace("#","")}}).toArray()}).done(function(b){a(b).insertAfter(p);p.hide();var c=a(".colourpickercircle");c.click(function(b){var d=a(b.currentTarget);c.removeClass("selected");d.addClass("selected");p.val(d.attr("data-colour"));a("#colourselectnotify").fadeIn(200).fadeOut(1200)});p.change(function(){c.removeClass("selected");a("#colourpick_"+p.val().replace("#","")).addClass("selected")});var d=a("body");if(!d.hasClass("format-tiles")){d.addClass("format-tiles")}});var q,r;if("course-edit"===f){r=a("#id_defaulttileicon");q=a("#id_defaulttileicon option:selected").text()}else if("course-editsection"===f){r=a("#id_tileicon");q=a("#id_tileicon option:selected").text()}if("course-edit"===f||"course-editsection"===f&&"0"!==j){var s;if(""===r.val()){s=g}else{s=r.val()}d.render("format_tiles/icon_picker_launch_btn",{initialicon:s,initialname:q,sectionId:i,allowphototiles:l}).done(function(b){a(b).insertAfter(r);r.hide();require(["format_tiles/edit_icon_picker"],function(a){a.init(h,f,l,m)})})}else if("course-editsection"===f&&"0"===j){r.closest(".row").hide()}d.render("format_tiles/edit_form_helptext",{documentationurl:m+"/teacher"}).done(function(b){a(b).appendTo(a("#id_courseformathdr .fcontainer"))});e.init(h,1,!0,1,0,!0,k);e.cleanUpStorage()})}}});
//# sourceMappingURL=edit_form_helper.min.js.map
