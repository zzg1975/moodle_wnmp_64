define ("format_tiles/edit_form_helper",["jquery","core/notification","core/str","core/templates","format_tiles/browser_storage"],function(a,b,c,d,e){"use strict";return{init:function init(f,g,h,i,j,k,l,m){a(document).ready(function(){a("select#id_courseusesubtiles").change(function(b){if("0"!==b.currentTarget.value){a("input#id_courseusebarforheadings").prop("checked",!1)}});a("select#id_courseshowtileprogress").change(function(d){if("0"!==d.currentTarget.value){var e=a("select#id_enablecompletion");if("0"===e.val()){e.val("1");c.get_strings([{key:"completion",component:"completion"},{key:"completionswitchhelp",component:"format_tiles"}]).done(function(a){b.alert(a[0],a[1])})}}});a("select#id_enablecompletion").change(function(b){if("0"===b.currentTarget.value){a("select#id_courseshowtileprogress").val("0")}});var n=a("select#id_basecolour");d.render("format_tiles/colour_picker",{colours:n.find("option").map(function(b,c){var d=a(c),e=d.attr("value");return{colour:e,colourname:d.text(),selected:e===n.val(),id:e.replace("#","")}}).toArray()}).done(function(b){a(b).insertAfter(n);n.hide();var c=a(".colourpickercircle");c.click(function(b){var d=a(b.currentTarget);c.removeClass("selected");d.addClass("selected");n.val(d.attr("data-colour"));a("#colourselectnotify").fadeIn(200).fadeOut(1200)});n.change(function(){c.removeClass("selected");a("#colourpick_"+n.val().replace("#","")).addClass("selected")});var d=a("body");if(!d.hasClass("format-tiles")){d.addClass("format-tiles")}});var o,p;if("course-edit"===f){p=a("#id_defaulttileicon");o=a("#id_defaulttileicon option:selected").text()}else if("course-editsection"===f){p=a("#id_tileicon");o=a("#id_tileicon option:selected").text()}if("course-edit"===f||"course-editsection"===f&&"0"!==j){var q;if(""===p.val()){q=g}else{q=p.val()}d.render("format_tiles/icon_picker_launch_btn",{initialicon:q,initialname:o,sectionId:i,allowphototiles:l}).done(function(b){a(b).insertAfter(p);p.hide();require(["format_tiles/edit_icon_picker"],function(a){a.init(h,f,l,m)})})}else if("course-editsection"===f&&"0"===j){p.closest(".row").hide()}d.render("format_tiles/edit_form_helptext",{documentationurl:m+"/teacher"}).done(function(b){a(b).appendTo(a("#id_courseformathdr .fcontainer"))});e.init(h,1,!0,1,0,!0,k);e.cleanUpStorage()})}}});
//# sourceMappingURL=edit_form_helper.min.js.map
